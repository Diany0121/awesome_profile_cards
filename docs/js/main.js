const U=document.querySelector(".js-fieldset__legend"),T=document.querySelector(".fieldset__legend--arrowupDesign"),d=document.querySelector(".fieldset__legend--arrowDownDesign"),k=document.querySelector(".form__design--colors"),G=document.querySelector(".js-fieldsetLegendForm"),a=document.querySelector(".fieldset__legend--arrowupForm"),C=document.querySelector(".fieldset__legend--arrowDownForm"),c=document.querySelector(".boxToBeHidden"),V=document.querySelector(".js-fieldsetLegendShare"),i=document.querySelector(".fieldset__legend--arrowupShare"),F=document.querySelector(".fieldset__legend--arrowDownShare"),l=document.querySelector(".fieldset__boxcontent");d.classList.add("hidden");c.classList.add("hidden");a.classList.add("hidden");l.classList.add("hidden");i.classList.add("hidden");function u(e){const t=e.currentTarget;console.log(t),t.classList.contains("js-design")?(z(),y(),v()):t.classList.contains("js-form")?(S(),K(),v()):t.classList.contains("js-share")&&(S(),y(),Q())}function S(){T.classList.add("hidden"),d.classList.remove("hidden"),k.classList.add("hidden")}function z(){T.classList.remove("hidden"),d.classList.add("hidden"),k.classList.remove("hidden")}function y(){a.classList.add("hidden"),C.classList.remove("hidden"),c.classList.add("hidden")}function K(){a.classList.remove("hidden"),C.classList.add("hidden"),c.classList.remove("hidden")}function v(){i.classList.add("hidden"),F.classList.remove("hidden"),l.classList.add("hidden")}function Q(){i.classList.remove("hidden"),F.classList.add("hidden"),l.classList.remove("hidden")}U.addEventListener("click",u);G.addEventListener("click",u);V.addEventListener("click",u);const W=document.querySelector(".js_reset_btn"),D=document.querySelector(".js-name"),_=document.querySelector(".js-job"),r=document.querySelector(".js-designCards"),X=document.querySelector(".wholeForm");document.querySelector(".js-designPalette");const Y=document.querySelector(".js-paletteOne"),Z=document.querySelector(".js-paletteTwo"),ee=document.querySelector(".js-paletteThree");function E(){r.classList.add("paletteOne"),r.classList.remove("paletteTwo","paletteThree")}function O(e){r.classList.add("paletteTwo"),r.classList.remove("paletteOne","paletteThree")}function I(){r.classList.add("paletteThree"),r.classList.remove("paletteOne","paletteTwo")}Y.addEventListener("click",E);Z.addEventListener("click",O);ee.addEventListener("click",I);function te(){r.classList.remove("paletteOne","paletteTwo","paletteThree");for(const e in o)o[e]="";D.innerHTML="Nombre Apellido",_.innerHTML="Front-end developer",g.style.backgroundImage='url("../images/valentina.jpg")',L.style.backgroundImage='url("../images/valentina.jpg")',m.href="tel:",h.href="mailto:",f.href="https://www.linkedin.com/",p.href="https://github.com"}function ne(){X.reset(),te(),localStorage.removeItem("AwesomeCard")}W.addEventListener("click",ne);const j=document.querySelector(".js-name-card"),$=document.querySelector(".js-name-form"),w=document.querySelector(".js-job-card"),H=document.querySelector(".js-job-form");document.querySelector(".js-form");const re=document.querySelector(".js-form-container"),o={palette:"",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},oe=e=>{const t=e.target.name;o[t]=e.target.value};re.addEventListener("input",oe);function se(e){e.preventDefault();const t=$.value;t===""?j.innerHTML="Nombre Apellido":j.innerHTML=t}function de(e){e.preventDefault();const t=H.value;t===""?w.innerHTML="Front-end developer":w.innerHTML=t}$.addEventListener("input",se);H.addEventListener("input",de);const m=document.querySelector(".js-phone-card"),h=document.querySelector(".js-mail-card"),f=document.querySelector(".js-linkedin-card"),p=document.querySelector(".js-git-card"),A=document.querySelector(".js-phone-form"),M=document.querySelector(".js-mail-form"),x=document.querySelector(".js-linkedin-form"),N=document.querySelector(".js-git-form");function ae(){h.href=`mailto:${M.value}`}M.addEventListener("input",ae);function ce(){m.href=`tel:${A.value}`}A.addEventListener("input",ce);function ie(){f.href=`https://www.linkedin.com/in/${x.value}`}x.addEventListener("input",ie);function le(){p.href=`https://github.com/${N.value}`}N.addEventListener("input",le);const s=new FileReader,ue=document.querySelector(".js-btn"),g=document.querySelector(".js-img-card"),L=document.querySelector(".js-profile-preview");function me(e){const t=e.currentTarget.files[0];s.addEventListener("load",he),s.readAsDataURL(t)}function he(){g.style.backgroundImage=`url(${s.result})`,L.style.backgroundImage=`url(${s.result})`,o.photo=s.result}ue.addEventListener("change",me);const P=document.querySelector(".js-createBtn"),R=document.querySelector(".js-createdcard"),b=document.querySelector(".js-linkCard"),B=document.querySelector(".js-errorcard"),fe=document.querySelector(".js-errorcard-title");function pe(e){e.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{if(R.classList.add("hidden"),B.classList.add("hidden"),t.success===!0)return ge(t.cardURL);t.error.includes("ER_DATA_TOO_LONG")?q("La imagen es muy grande"):q(t.error)}),Le()}P.addEventListener("click",pe);function ge(e){b.setAttribute("href",e),b.innerHTML=e,P.classList.add("backgroundgrey");const t=document.querySelector(".js-twitter-button"),J=t.getAttribute("href");t.setAttribute("href",J+encodeURIComponent(`Mira mi nueva tarjeta ${e}`)),R.classList.remove("hidden")}function q(e){fe.innerHTML=`Error! ${e}`,B.classList.remove("hidden")}const Le=()=>{const e=JSON.stringify(o);localStorage.setItem("AwesomeCard",e)};function Se(){const e=localStorage.getItem("AwesomeCard");return e?JSON.parse(e):null}const n=Se();n&&(D.innerHTML=n.name||"Nombre Apellido",_.innerHTML=n.job||"Front-end developer",g.style.backgroundImage=`url(${n.photo})`||"url(placeholder.jpg)",L.style.backgroundImage=`url(${n.photo})`||"url(placeholder.jpg)",m.href=`tel:${n.value}`,h.href=`mailto:${n.value}`,f.href=`https://www.linkedin.com/in/${n.value}`,p.href=`https://github.com/${n.value}`,n.palette==="1"?E():n.palette==="2"?O():n.palette==="3"&&I());
//# sourceMappingURL=main.js.map
